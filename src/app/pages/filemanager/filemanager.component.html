<div class="container-fluid">
  

    <div class="d-xl-flex">
        <div class="w-100">
            <div class="d-md-flex">
                <div class="card filemanager-sidebar me-md-2">
                    <div class="card-body">

                        <div class="d-flex flex-column h-100">
                            <div class="mb-4">
                                <div class="mb-3">
                                    <div class="dropdown" dropdown>
                                        <button class="btn btn-light dropdown-toggle w-100" dropdownToggle type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
vul-scan-repo

                                        </button>
                                        <div class="dropdown-menu" *dropdownMenu>
                                            <a class="dropdown-item" href="javascript: void(0);"><i class="bx bx-folder me-1"></i> Folder</a>
                                            <a class="dropdown-item" href="javascript: void(0);"><i class="bx bx-file me-1"></i> File</a>
                                        </div>

                                        
                                    </div>
                                </div>
                                <ul class="list-unstyled categories-list">
                                    <li *ngFor="let folder of folders">
                                        <div class="custom-accordion">
                                            <a class="text-body fw-medium py-1 d-flex align-items-center" *ngIf="folder.name !=''" (click)="folder.isCollapsed = !folder.isCollapsed" [attr.aria-expanded]="!folder.isCollapsed" data-toggle="collapse" href="javascript:void(0);" role="button" aria-expanded="false" aria-controls="categories-collapse">
                                                <i class="mdi mdi-folder font-size-16 text-warning me-2"></i> {{folder.name}} <i class="mdi mdi-chevron-up accor-down-icon ms-auto"></i>
                                            </a>
                                            <div class="collapse show" id="categories-collapse" [collapse]="folder.isCollapsed">
                                                <div class="card border-0 shadow-none ps-2 mb-0">
                                                    <ul class="list-unstyled mb-0">
                                                        <li *ngFor="let file of folder.files">
                                                            <a class="lnk-style" href="javascript:void(0);" class="d-flex align-items-center" (click)="getFileData(folder.name+'/'+file)">{{file}}</a>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </li>
                                </ul>
                            </div>

                         
                        </div>

                    </div>
                </div>
                <!-- filemanager-leftsidebar -->

                <div class="w-100">





                    <div class="card" >
                        <div class="card-body" >
                            <div *ngIf="fileContent && fileContent['path']">
                                <div class="row mb-3" >
                                    <div class="col-xl-3 col-sm-6">
                                        <div class="mt-2" >
                                            <h5 style="color: #007bff;">{{fileContent?.path}}</h5>
                                        </div>
                                    </div>
                                    <div class="col-xl-9 col-sm-6">
                                        <form class="mt-4 mt-sm-0 float-sm-end d-flex align-items-center">
                                            <div class="search-box mb-2 me-2">
                                                <div class="position-relative">
                                                    <button class="btn btn-light ms-0" type="button" id="password-addon"(click)="showAllVul()" >Show All Vulnerabilties</button>
                                                </div>
                                            </div>

                            <!--                 <div class="dropdown mb-0" dropdown>
                                                <a class="btn btn-link text-muted dropdown-toggle mt-n2" dropdownToggle role="button" data-toggle="dropdown" aria-haspopup="true">
                                                    <i class="mdi mdi-dots-vertical font-size-20"></i>
                                                </a>

                                                <div class="dropdown-menu dropdown-menu-end" *dropdownMenu>
                                                    <a class="dropdown-item" href="javascript: void(0);">Share Files</a>
                                                    <a class="dropdown-item" href="javascript: void(0);">Share with me</a>
                                                    <a class="dropdown-item" href="javascript: void(0);">Other Actions</a>
                                                </div>
                                            </div> -->
                                        </form>
                                    </div>
                                </div>
                            </div>
                            <div *ngIf="fileContent && fileContent['path']">
                                <div class="row file-content" style="max-height: 450px; max-width: 1024px;overflow-y: auto;overflow-x: auto;">
                                    <pre class="line-numbers" [innerHTML]="displayedContent"></pre>
                                </div>
                                <br>
                                <p *ngIf="commit && commit===true">Do you want to commit the changes and push to the repository and rerun the SCANS? <button (click)="commitChanges()" class="btn btn-success" style="font-size: 12px;" type="button" id="password-addon">  <i class="bx bxs-magic-wand"></i> Commit & Run</button></p>
                            </div>

                            <div class="mt-4">
                                <!-- <div class="d-flex flex-wrap">
                                    <h5 class="font-size-16 me-3">Scan Results</h5>

                                    <div class="ms-auto">
                                        <a href="javascript: void(0);" class="fw-medium text-reset">View All</a>
                                    </div>
                                </div>
                                <hr class="mt-2"> -->


                                <div class="col-xl-12 col-lg-12">
                                    <div class="card">
                                        <div class="card-body">
                                            <div class="d-flex flex-wrap align-items-start">
                                                <div class="me-2">
                                                    <h5 class="card-title mb-0">Scan Results (Open Vulnerablility)</h5>
                                                </div>
                                                <div class="ms-auto">
                        
                                                </div>
                                            </div>
                                            <tabset class="nav-tabs nav-tabs-custom card-header-tabs custom-widget-nav ms-auto">
                                                <tab heading="Static" class="mt-4">
                                                    <ngx-simplebar style="max-height: 600px;">
                                                        <ul class="list-group list-group-flush">
                                                            <li class="list-group-item py-3" *ngFor="let data of filteredStaticData; let i = index">
                                                                <div class="d-flex">
                                                                   
                                                                    <div class="align-self-center overflow-hidden me-auto">
                                                                        <div>
                                                                            <h5 class="font-size-14 text-truncate"><a href="javascript: void(0);" class="text-dark">
                                                                                {{data.issue_type}}</a>
                                                                            </h5>
                                                                            <p class="text-muted mb-0">Line no. {{data.line_number}}</p>
                                                                            <p> Code with issue </p>
                                                                            <div class="row file-content" style="max-height: 450px; max-width: 1024px;overflow-y: auto;overflow-x: auto;">
                                                                                <pre class="line-numbers" [innerHTML]="data.code_snippet"></pre>
                                                                            </div>

                                                                            <p> Recommended fix</p>
                                                                            <div class="row file-content" style="max-height: 450px; overflow-y: auto;">
                                                                                <pre class="line-numbers" [innerHTML]="data.recommendations"></pre>
                                                                            </div>
                                                                            <br>
                                                                            File Name : <label (click)="getFileData(data['Scanning'],id)" style="color: #3f09f1;text-decoration: underline;cursor: pointer;">{{data['Scanning']}}</label>
                                                                        </div>
                                                                    </div>
                                                                    <div class="ms-auto" *ngIf="data.autoFixed && data.autoFixed ==='false'">
                                                                        <div class="overflow-hidden me-auto" style="text-align: center; margin-top: 10%;">
                                                                            <apx-chart dir="ltr" class="apex-charts" [chart]="radialoptions.chart" [series]="data.confidence" [labels]="radialoptions.labels" [colors]="radialoptions.colors" [grid]="radialoptions.grid" [plotOptions]="radialoptions.plotOptions" [stroke]="radialoptions.stroke">
                                                                            </apx-chart>
                                                                            <p class="text-muted mt-4">Fix Confidence Score</p>
                                                                            <button (click)="autofix(data.id , data.recommendations)" class="btn btn-success" style="font-size: 12px;" type="button" id="password-addon">  <i class="bx bxs-magic-wand"></i> Auto Fix</button>
                                                                        </div>
                                                                       
                                                                            
                                                                       
                                                                    </div>
                                                                    
                                                                 
                        
                                                                </div>
                                                            </li>
                        
                                                           
                                                           
                                                        </ul>
                                                    </ngx-simplebar>
                                                </tab>
                                                <tab heading="Dynamic" class="mt-4">
                                                    <ngx-simplebar style="height: 600px;">
                                                        <ul class="list-group list-group-flush">
                                                            <li class="list-group-item py-3" *ngFor="let data of dynamicData; let i = index">
                                                                <div class="d-flex">
                                                                   
                                                                    <div class="align-self-center overflow-hidden me-auto">
                                                                        <div>
                                                                            <h5 class="font-size-14 text-truncate"><a href="javascript: void(0);" class="text-dark">
                                                                                Vulnerability ID : {{data['Vulnerability ID']}}</a>
                                                                            </h5>
                                                                            <p class="text-muted mb-0">Affected Spec: {{data['Affected Spec']}}</p>
                                                                            <br>
                                                                            <p> CVE </p>
                                                                            <div class="row file-content" style="max-height: 450px; max-width: 1024px;overflow-y: auto;overflow-x: auto;">
                                                                                <pre class="line-numbers" [innerHTML]="data.CVE"></pre>
                                                                            </div>
                                                                            <br>
                                                                            <p> Advisory</p>
                                                                            <div class="row file-content" style="max-height: 450px; max-width: 1024px;overflow-y: auto;overflow-x: auto;">
                                                                                <pre class="line-numbers" [innerHTML]="data.Advisory"></pre>
                                                                            </div>
                                                                            <br>
                                                                            <p> More Info : </p><a style="color: #3f09f1;text-decoration: underline;">{{data['More Info URL']}}</a>
                                                                        </div>
                                                                    </div>
                                                                  <!--   <div class="ms-auto">
                                                                        <div class="overflow-hidden me-auto" style="text-align: center; margin-top: 10%;">
                                                                            <apx-chart dir="ltr" class="apex-charts" [chart]="radialoptions.chart" [series]="data.confidence" [labels]="radialoptions.labels" [colors]="radialoptions.colors" [grid]="radialoptions.grid" [plotOptions]="radialoptions.plotOptions" [stroke]="radialoptions.stroke">
                                                                            </apx-chart>
                                                                            <p class="text-muted mt-4">Fix Confidence Score</p>
                                                                        </div>
                                                                    </div> -->
                                                                    
                                                                    <div class="dropdown ms-2" dropdown>
                                                                        <a class="text-muted font-size-14" href="javascript:void(0);" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false" dropdownToggle>
                                                                            <i class="mdi mdi-dots-horizontal"></i>
                                                                        </a>
                        
                                                                        <div class="dropdown-menu dropdown-menu-end" *dropdownMenu>
                                                                            <a class="dropdown-item" href="javascript:void(0);">Action</a>
                                                                            <a class="dropdown-item" href="javascript:void(0);">Another
                                                                                action</a>
                                                                            <a class="dropdown-item" href="javascript:void(0);">Something
                                                                                else
                                                                                here</a>
                                                                        </div>
                                                                    </div>
                        
                                                                </div>
                                                            </li>
                                                           
                                                        </ul>
                                                    </ngx-simplebar>
                                                </tab>
                                            </tabset>
                                        </div>
                                    </div>
                                </div>
            
            
                               <!--  <div class="table-responsive">
                                    <table class="table align-middle table-nowrap table-hover mb-0">
                                        <thead>
                                            <tr>
                                                <th scope="col">Line Number</th>
                                                <th scope="col">Issue Type</th>
                                                <th scope="col">Code Snippet</th>
                                                <th scope="col">Recommended Code Fix</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr *ngFor="let data of staticdata; let i = index">
                                                <td>{{data.line_number}}</td>
                                                <td>{{data.issue_type}}</td>
                                                <td>{{data.code_snippet}}</td>
                                                <td>{{data.recommended_code_fix}}</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div> -->
                            </div>
                        </div>
                    </div>
                    <!-- end card -->
                </div>
                <!-- end w-100 -->
            </div>
        </div>

        <div class="card filemanager-sidebar ms-lg-2">
            <div class="card-body">
              <!--   <div class="text-center">
                    <h5 class="font-size-15 mb-4">Confidence Score</h5>
                 
                    <apx-chart dir="ltr" class="apex-charts" [chart]="radialoptions.chart" [series]="radialoptions.series" [labels]="radialoptions.labels" [colors]="radialoptions.colors" [grid]="radialoptions.grid" [plotOptions]="radialoptions.plotOptions" [stroke]="radialoptions.stroke">
                    </apx-chart>

                    <p class="text-muted mt-4">258 lines of Vulnerable code of 15,00,000 lines code</p>
                </div> -->

                <div class="mt-4">
                    <div class="card border shadow-none mb-2">
                        <a href="javascript: void(0);" class="text-body">
                            <div class="p-2">
                                <div class="d-flex">
                                    <div class="avatar-xs align-self-center me-2">
                                        <div class="avatar-title rounded bg-transparent text-success font-size-20">
                                            <i class="mdi mdi-image"></i>
                                        </div>
                                    </div>

                                    <div class="overflow-hidden me-auto">
                                        <h5 class="font-size-13 text-truncate mb-1">Static</h5>
                                        <p class="text-muted text-truncate mb-0">176 Vul</p>
                                    </div>

                                    <div class="ms-2">
                                        <p class="text-muted">6 GB</p>
                                    </div>
                                </div>
                            </div>
                        </a>
                    </div>

                    <div class="card border shadow-none mb-2">
                        <a href="javascript: void(0);" class="text-body">
                            <div class="p-2">
                                <div class="d-flex">
                                    <div class="avatar-xs align-self-center me-2">
                                        <div class="avatar-title rounded bg-transparent text-danger font-size-20">
                                            <i class="mdi mdi-play-circle-outline"></i>
                                        </div>
                                    </div>

                                    <div class="overflow-hidden me-auto">
                                        <h5 class="font-size-13 text-truncate mb-1">Dynamic</h5>
                                        <p class="text-muted text-truncate mb-0">45 Vul</p>
                                    </div>

                                    <div class="ms-2">
                                        <p class="text-muted">4.1 GB</p>
                                    </div>
                                </div>
                            </div>
                        </a>
                    </div>

                    <div class="card border shadow-none mb-2">
                        <a href="javascript: void(0);" class="text-body">
                            <div class="p-2">
                                <div class="d-flex">
                                    <div class="avatar-xs align-self-center me-2">
                                        <div class="avatar-title rounded bg-transparent text-info font-size-20">
                                            <i class="mdi mdi-folder"></i>
                                        </div>
                                    </div>

                                    <div class="overflow-hidden me-auto">
                                        <h5 class="font-size-13 text-truncate mb-1">Other</h5>
                                        <p class="text-muted text-truncate mb-0">21 Vul</p>
                                    </div>

                                    <div class="ms-2">
                                        <p class="text-muted">3.2 GB</p>
                                    </div>
                                </div>
                            </div>
                        </a>
                    </div>

                </div>
            </div>
        </div>
    </div>
    <!-- end row -->
</div>